<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rejoindre L'impro expérimenté</title>
    <link rel="stylesheet" href="landing_flex.css">
    <link rel="stylesheet" href="form.css">
    <script src="./formHelper.js" charset="utf-8"></script>
  </head>
  <body>
    <div class="fond-debutant">
      <div class="title-container">
        <img src="logo.png" >
        <a href="./" class="landing-titre">Improvocation</a>
      </div>
      <form class="form" id="theForm" method="POST" action="sendmail.php"><!-- center the form -->
        <h2>Rejoindre un équipe</h2>
        <p>
          Tu es expérimenté ? Rejoins directement une équipe de l'improvoc!
          Rejoignez-nous les lundis de 19h à 22h. 
          Rendez-vous à 18h45 à l'entrée de la plaine de l'ulb.
        </p>
        <h2>Contact</h2>
        <!-- debutant emails to stage@impro-vocation.org     -->
        <label for="name">Nom,Prénom</label>
        <label id="nameEmpty" for="name" class="error">Obligatoire</label>
        <input type="text" id="name" name="name" value="">

        <label for="mail">Adresse mail</label>
        <label id="mailEmpty" for="mail" class="error">Obligatoire</label>
        <label id="mailValid" for="mail" class="error">Email non valide</label>
        <input type="email" id="mail" name="mail" value="">

        <label for="message">message</label>
        <label id="messageEmpty" for="message" class="error">Obligatoire</label>
        <input type="text" id="message" name="message" value="">

        <input type="hidden" name="sendTo" value="info@impro-vocation.org">
        <input type="hidden" name="type" value="rejoindre_experimente">
        <input type="submit"id="sendButton" class="send"  name="" value="Envoyer">
      </form>
      <div class="bottom-container">
      </div>
      <script type="text/javascript">
        function check(e) {
          e.preventDefault();
          let validations=[
            notEmpty('name','nameEmpty'),
            notEmpty('mail','mailEmpty'),
            isEmail('mail','mailValid'),
            notEmpty('message','messageEmpty')
          ]          
          if(allFieldOk(validations)){
            ajaxForm('theForm','sendmail.php',function(response){
              console.log(response);
              document.getElementById('sendButton').className='sent';
              document.getElementById('sendButton').value='Envoyé !';
            })
          }
        }
        document.getElementById('theForm').addEventListener('submit',check);
      </script>
  </body>
</html>
